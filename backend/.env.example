# ============================================
# Application Configuration
# ============================================
# Copy this file to .env and fill in the actual values
# WARNING: NEVER commit .env file to version control!
# ============================================

# Application
APP_NAME="Course Management Platform"
APP_VERSION="1.0.0"
DEBUG=True
ENVIRONMENT=development

# Server
HOST=0.0.0.0
PORT=8000

# ============================================
# Database
# ============================================
# Development: SQLite (default)
DATABASE_URL=sqlite+aiosqlite:///./app.db

# Production: PostgreSQL (recommended)
# DATABASE_URL=postgresql+asyncpg://user:password@localhost:5432/dbname

# ============================================
# Supabase (Required for Authentication)
# ============================================
# Get these from: https://app.supabase.com/project/_/settings/api
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_KEY=your-supabase-anon-key
SUPABASE_JWT_SECRET=your-supabase-jwt-secret

# ============================================
# Redis (Required for caching & WebSocket)
# ============================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=

# ============================================
# MinIO Object Storage (Required)
# ============================================
# ⚠️  CRITICAL: Change these credentials immediately!
# Never use default credentials in production
# Generate strong credentials using: openssl rand -base64 32
MINIO_ENDPOINT=localhost:9000
MINIO_ACCESS_KEY=CHANGE-THIS-ACCESS-KEY
MINIO_SECRET_KEY=CHANGE-THIS-SECRET-KEY-TO-SECURE-VALUE
MINIO_BUCKET_NAME=course-files
MINIO_SECURE=False

# ============================================
# CORS Origins
# ============================================
# Comma-separated list (no spaces, no quotes)
# Development:
CORS_ORIGINS=http://localhost:3000,http://localhost:5173

# Production example:
# CORS_ORIGINS=https://yourdomain.com,https://app.yourdomain.com

# ============================================
# Security (CRITICAL - MUST CHANGE)
# ============================================
# ⚠️  CRITICAL: Generate a secure SECRET_KEY
# Run: openssl rand -hex 32
# OR:  python -c "import secrets; print(secrets.token_hex(32))"
SECRET_KEY=CHANGE-THIS-TO-SECURE-RANDOM-KEY-MINIMUM-32-CHARACTERS

ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# ============================================
# File Upload Configuration
# ============================================
# Maximum file size in bytes (100MB = 104857600)
MAX_FILE_SIZE=104857600

# Allowed file types (comma-separated, no spaces)
ALLOWED_FILE_TYPES=pdf,doc,docx,xls,xlsx,ppt,pptx,txt,jpg,jpeg,png,gif,mp4,mp3,zip

# ============================================
# WebSocket Configuration
# ============================================
WS_MESSAGE_QUEUE=ws:messages
WS_HEARTBEAT_INTERVAL=30

# ============================================
# Cache TTL (Time To Live in seconds)
# ============================================
CACHE_USER_PROFILE_TTL=3600
CACHE_COURSE_TTL=3600
CACHE_COURSE_MEMBERS_TTL=1800
CACHE_MESSAGES_TTL=600
CACHE_NOTIFICATIONS_TTL=300

# ============================================
# PRODUCTION DEPLOYMENT CHECKLIST
# ============================================
# Before deploying to production, ensure you have:
#
# ✓ Changed SECRET_KEY to a secure random value (32+ chars)
# ✓ Changed MINIO_ACCESS_KEY and MINIO_SECRET_KEY
# ✓ Set proper SUPABASE_URL, SUPABASE_KEY, SUPABASE_JWT_SECRET
# ✓ Set DATABASE_URL to production database (PostgreSQL)
# ✓ Updated CORS_ORIGINS with your production domain(s)
# ✓ Set DEBUG=False
# ✓ Set ENVIRONMENT=production
# ✓ Set MINIO_SECURE=True (if using HTTPS)
# ✓ Set REDIS_PASSWORD (if authentication enabled)
# ✓ Reviewed and adjusted all cache TTL values
# ✓ Added .env to .gitignore (verify it's never committed)
# ✓ Stored .env securely (vault, secrets manager, etc.)
# ============================================
